<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="view_picking_type_filter" model="ir.ui.view">
            <field name="name">stock.picking.type.filter</field>
            <field name="model">stock.picking.type</field>
            <field name="inherit_id" ref="stock.view_pickingtype_filter"/>
            <field name="arch" type="xml">
                <xpath expr="//filter[@name='inactive']" position="after">
                    <separator/>
                    <filter string="有效" name="count_picking_ready_valid" domain="[]" context="{'count_picking_ready_valid': 1}"/>
                </xpath>
            </field>
        </record>
        <record id="stock_picking_type_kanban" model="ir.ui.view">
            <field name="name">stock.picking.type.kanban</field>
            <field name="model">stock.picking.type</field>
            <field name="inherit_id" ref="stock.stock_picking_type_kanban"/>
            <field name="arch" type="xml">
                <xpath expr="//div[hasclass('o_kanban_primary_left')]" position="attributes">
                        <attribute name="style">flex:0 0 40%;padding-right:8px;padding-left:8px</attribute>
                </xpath>
                <xpath expr="//div[hasclass('o_kanban_primary_right')]" position="attributes">
                        <attribute name="style">flex:0 0 60%;padding-right:8px;padding-left:8px</attribute>
                </xpath>
            </field>
        </record>

        <!--
        仓库动作控制台，仓库专员和仓库经理，只能访问仓管员或仓库经理字段为当前用户的仓库对应的操作
        base.group_erp_manager用户可访问当前公司及所有子公司的仓库对应的操作
        -->
        <record id='stock.stock_picking_type_action' model='ir.actions.act_window'>
            <field name='context'>{'search_default_groupby_warehouse_id': 1, 'search_default_count_picking_ready_valid': 1}</field>
            <field name="domain">[('code', '!=', 'internal'), ('warehouse_id.code', 'not in', ['02020', '02014']), ('warehouse_id.company_id', '!=', 1), ]</field>
        </record>
        <!--<record id='stock.action_picking_type_list' model='ir.actions.act_window'>-->
            <!--<field name='context'>{'only_myself': 1}</field>-->
        <!--</record>-->

        <!--<record id="stock_picking_type_kanban" model="ir.ui.view">-->
            <!--<field name="name">view_picking_type_kanban inherit</field>-->
            <!--<field name="model">stock.picking.type</field>-->
            <!--<field name="inherit_id" ref="stock.stock_picking_type_kanban"/>-->
            <!--<field name="arch" type="xml">-->
                <!--<xpath expr="//templates" position="replace">-->
                    <!--<templates>-->
                        <!--<t t-name="kanban-box">-->
                            <!--<div t-if="['incoming', 'outgoing', 'internal'].indexOf(record.code.raw_value) > -1" t-attf-class="#{kanban_color(record.color.raw_value)} stock_picking_type" name="stock_picking">-->
                                <!--<div>-->
                                    <!--<div t-attf-class="o_kanban_card_header">-->
                                        <!--<div class="o_kanban_card_header_title">-->
                                            <!--<div class="o_primary">-->
                                                <!--<a type="object" name="get_stock_picking_action_picking_type">-->
                                                    <!--<field name="name"/>-->
                                                <!--</a>-->
                                            <!--</div>-->
                                            <!--<div class="o_secondary"><field class="o_secondary"  name="warehouse_id"/></div>-->
                                        <!--</div>-->
                                        <!--<div class="o_kanban_manage_button_section">-->
                                            <!--<a class="o_kanban_manage_toggle_button" href="#"><i class="fa fa-ellipsis-v" role="img" aria-label="Manage" title="Manage"/></a>-->
                                        <!--</div>-->
                                    <!--</div>-->
                                    <!--<div class="container o_kanban_card_content">-->
                                        <!--<div class="row">-->
                                            <!--<div class="col-6 o_kanban_primary_left">-->
                                                <!--<button class="btn btn-primary" name="get_action_picking_tree_ready" type="object">-->
                                                    <!--<span t-if="record.code.raw_value =='incoming'"><t t-esc="record.count_picking_ready.value"/> 待处理</span>-->
                                                    <!--<span t-if="record.code.raw_value =='outgoing'"><t t-esc="record.count_picking_ready.value"/> 待处理</span>-->
                                                    <!--<span t-if="record.code.raw_value =='internal'"><t t-esc="record.count_picking_ready.value"/> 待处理</span>-->
                                                <!--</button>-->
                                            <!--</div>-->
                                            <!--<div class="col-6 o_kanban_primary_right">-->
                                                <!--<div t-if="record.count_picking_ready.raw_value > 0" class="row">-->
                                                <!--</div>-->

                                                <!--<div t-if="record.count_picking_waiting.raw_value > 0" class="row">-->
                                                    <!--<div class="col-9">-->
                                                        <!--<a name="get_action_picking_tree_waiting" type="object">-->
                                                            <!--正在等待-->
                                                        <!--</a>-->
                                                    <!--</div>-->
                                                    <!--<div class="col-3">-->
                                                        <!--<field name="count_picking_waiting"/>-->
                                                    <!--</div>-->
                                                <!--</div>-->

                                                <!--<div t-if="record.count_picking_late.raw_value > 0" class="row">-->
                                                    <!--<div class="col-9">-->
                                                        <!--<a class="oe_kanban_stock_picking_type_list" name="get_action_picking_tree_late" type="object">-->
                                                            <!--超期-->
                                                        <!--</a>-->
                                                    <!--</div>-->
                                                    <!--<div class="col-3">-->
                                                        <!--<field name="count_picking_late"/>-->
                                                    <!--</div>-->
                                                <!--</div>-->

                                                <!--<div t-if="record.count_picking_backorders.raw_value > 0" class="row">-->
                                                    <!--<div class="col-9">-->
                                                        <!--<a class="oe_kanban_stock_picking_type_list" name="get_action_picking_tree_backorder" type="object">-->
                                                            <!--后续出（或入）库单-->
                                                        <!--</a>-->
                                                    <!--</div>-->
                                                    <!--<div class="col-3">-->
                                                        <!--<field name="count_picking_backorders"/>-->
                                                    <!--</div>-->
                                                <!--</div>-->
                                            <!--</div>-->
                                        <!--</div>-->
                                    <!--</div><div class="container o_kanban_card_manage_pane dropdown-menu" role="menu">-->
                                        <!--<div class="row">-->
                                            <!--<div class="col-6 o_kanban_card_manage_section o_kanban_manage_view">-->
                                                <!--<div role="menuitem" class="o_kanban_card_manage_title">-->
                                                    <!--<span>View</span>-->
                                                <!--</div>-->
                                                <!--<div role="menuitem">-->
                                                    <!--<a name="get_stock_picking_action_picking_type" type="object">All</a>-->
                                                <!--</div>-->
                                                <!--<div role="menuitem">-->
                                                    <!--<a name="%(stock.action_picking_tree_ready)d" type="action">Ready</a>-->
                                                <!--</div>-->
                                                <!--<div role="menuitem">-->
                                                    <!--<a name="get_action_picking_tree_waiting" type="object">Waiting</a>-->
                                                <!--</div>-->
                                            <!--</div>-->
                                            <!--<div class="col-6 o_kanban_card_manage_section o_kanban_manage_new">-->
                                                <!--<div role="menuitem" class="o_kanban_card_manage_title">-->
                                                    <!--<span>New</span>-->
                                                <!--</div>-->
                                                <!--<div role="menuitem">-->
                                                    <!--<a name="%(stock.action_picking_form)d" type="action" context="{'default_immediate_transfer': True}">Immediate Transfer</a>-->
                                                <!--</div>-->
                                                <!--<div role="menuitem">-->
                                                    <!--<a name="%(stock.action_picking_form)d" type="action">Planned Transfer</a>-->
                                                <!--</div>-->
                                            <!--</div>-->
                                        <!--</div>-->

                                        <!--<div t-if="widget.editable" class="o_kanban_card_manage_settings row">-->
                                            <!--<div class="col-8" role="menuitem" aria-haspopup="true">-->
                                                <!--<ul class="oe_kanban_colorpicker" data-field="color" role="menu"/>-->
                                            <!--</div>-->
                                            <!--<div role="menuitem" class="col-4 text-center">-->
                                                <!--<a type="edit">Settings</a>-->
                                            <!--</div>-->
                                        <!--</div>-->
                                    <!--</div>-->
                                <!--</div>-->
                            <!--</div>-->
                        <!--</t>-->

                    <!--</templates>-->
                <!--</xpath>-->
            <!--</field>-->
        <!--</record>-->

    </data>
</odoo>